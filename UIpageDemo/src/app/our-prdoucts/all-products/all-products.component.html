<div class="modal modal-center" tabindex="0" role="dialog" [ngStyle]="{'display':displayStyle}" style="margin-left: 230px; margin-top: 120px;">
    <div class="card" style="width: 70%;">
        <h5 class="card-header d-flex justify-content-between align-items-center">
            {{selected_product['Name']}}
            <button type="button" style="background-color: transparent; color: black; border-color: transparent;" class="btn btn-sm btn-primary" (click)="closePopup()">x</button>
        </h5>
        <div class="row p-3">
            <div class="col-sm-6">
                <div class="card border-0">
                    <!-- <img class="card-img-top" id="imgClickAndChange" src="{{selected_product['icon'][selectedImageIndex]}}" alt="Card image cap" (click)="changeProductImage(selected_product)"> -->
                    <ngb-carousel>
                        <ng-template ngbSlide *ngFor="let each_image of selected_product['icon']">
                            <div class="picsum-img-wrapper">
                                <img  class="card-img-product" src="{{each_image}}" alt="Random first slide">
                            </div>
                        </ng-template>
                    </ngb-carousel>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="card product-info">
                    <div class="card-body">
                        <h5 class="card-title py-2" style="border-bottom: solid grey 1px;">Product Information</h5>
                        <p class="card-text" *ngFor="let info_item of selected_product['product_info']" >{{info_item["parameter_name"]}}: {{info_item["parameter_value"]}}</p>
                    </div>
                </div>
                <div class="card border-0">
                    <div class="card-body">
                        <h5 class="card-title">{{selected_product["product_title"]}}</h5>
                        <p class="card-text">{{selected_product["product_description"]}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="backImg">
    <div class="pt-3"></div>
    <div class="pageTitle py-2 text-center">
        <h1 class="pageTitleText1 d-inline">All </h1>
        <h1 class="pageTitleText2 d-inline"> Products</h1>
    </div>
    <!-- <div class="newNav mt-5">
        <ul class="nav nav-pills nav-fill">
            <li class="nav-item" *ngFor="let item of product_type_records">
                <p class="card-product-type btn px-2 mx-3" (click)="selectProductType(item)">{{item["product_type_name"]}}
                </p>
                <div *ngIf="product_type_selected && product_type_key_selected == item['product_type_key']">
                    <ul class="nav nav-pills nav-fill">
                        <li class="nav-item" *ngFor="let item_l1 of item['children']">
                            <p class="card-product-type-l1 btn px-2 mx-3" (click)="selectProductTypeL1(item_l1)">
                                {{item_l1["product_type_name"]}}</p>
    
                            <div
                                *ngIf="product_type_l1_selected && product_type_key_l1_selected == item_l1['product_type_key']">
                                <ul class="nav nav-pills nav-fill">
                                    <li class="nav-item" *ngFor="let item_l2 of item_l1['children']">
                                        <p class="card-product-type-l2 btn px-2 mx-3">{{item_l2["product_type_name"]}}</p>
                                    </li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                </div>
            </li>
        </ul>
    </div> -->
    <div class="newNav mt-5">
        <ul class="nav nav-pills nav-fill">
            <li class="nav-item" *ngFor="let item of product_type_records">
                <p class="card-product-type btn px-2 mx-3" (click)="selectProductType(item)">{{item["product_type_name"]}}
                </p>
            </li>
        </ul>
    </div>
    <div *ngFor="let item of product_type_records">
        <div *ngIf="product_type_selected && product_type_key_selected == item['product_type_key']">
            <ul class="nav nav-pills nav-fill">
                <li class="nav-item" *ngFor="let item_l1 of item['children']">
                    <p class="card-product-type-l1 btn px-2 mx-3" (click)="selectProductTypeL1(item_l1)">
                        {{item_l1["product_type_name"]}}</p>
                </li>
            </ul>
        </div>
    </div>
    <div *ngFor="let item of product_type_records">
        <div *ngFor="let item_l1 of item['children']">
            <div *ngIf="product_type_l1_selected && product_type_key_l1_selected == item_l1['product_type_key']">
                <ul class="nav nav-pills nav-fill">
                    <li class="nav-item" *ngFor="let item_l2 of item_l1['children']">
                        <p class="card-product-type-l2 btn px-2 mx-3" (click)="selectProductTypeL2(item_l2)">{{item_l2["product_type_name"]}}</p>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="ListCards container mt-5">
        <div *ngFor="let item of records" >
        <div class="card product-card m-3" *ngIf="item['product_type'] == product_type_key_selected || item['product_type'] == product_type_key_l1_selected || item['product_type'] == product_type_key_l2_selected || product_type_key_selected == '' || product_type_key_l1_selected == '' || product_type_key_l2_selected == ''" style="width: 18rem;">
            <!-- <div -->
                <!-- *ngIf="item['product_type'] == product_type_key_selected || item['product_type'] == product_type_key_l1_selected || item['product_type'] == product_type_key_l2_selected || product_type_key_selected == '' || product_type_key_l1_selected == '' || product_type_key_l2_selected == ''"> -->
                <img class="card-img-top" [src]="item.icon[0]" alt="" (click)="openPopup(item)">
                <div class="card-body product-card-body">
                    {{item['Name']}}
                </div>
            </div>
        </div>
    </div>
</div>